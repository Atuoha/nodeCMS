'use strict';const express=require("express"),router=express.Router(),Post=require("../../models/Post"),Category=require("../../models/Category");router.all("/*",(d,b,a)=>{d.app.locals.layout="home";a()});router.get("/",(d,b)=>{Post.find().then(a=>{Category.find().then(c=>{b.render("home/index",{posts:a,categories:c})}).catch(c=>console.log(`Error with Categories ${c}`))}).catch(a=>console.log(a))});
router.get("/single_post/:id",(d,b)=>{Post.findOne({_id:d.params.id}).then(a=>{Category.find().then(c=>{b.render("home/single_post",{post:a,categories:c})}).catch(c=>console.log(`Error with Categories ${c}`))}).catch(a=>console.log(a))});router.get("/login",(d,b)=>{b.render("home/login")});router.get("/register",(d,b)=>{b.render("home/register")});module.exports=router;